<?xml version="1.0" encoding="utf-8"?>
<packagegui>
	<include_file>squid.inc</include_file>
	<name>squidtraffic</name>
	<title>Proxy server: Traffic management</title>
	<tabs>
		<tab>
			<text>General settings</text>
			<url>/pkg_edit.php?xml=squid.xml&amp;id=0</url>
		</tab>
		<tab>
			<text>Upstream proxy</text>
			<url>/pkg_edit.php?xml=squid_upstream.xml&amp;id=0</url>
		</tab>
		<tab>
			<text>Cache management</text>
			<url>/pkg_edit.php?xml=squid_cache.xml&amp;id=0</url>
		</tab>
		<tab>
			<text>Access control</text>
			<url>/pkg_edit.php?xml=squid_nac.xml&amp;id=0</url>
		</tab>
		<tab>
			<text>Traffic management</text>
			<url>/pkg_edit.php?xml=squid_traffic.xml&amp;id=0</url>
			<active/>
		</tab>
		<tab>
			<text>Auth settings</text>
			<url>/pkg_edit.php?xml=squid_auth.xml&amp;id=0</url>
		</tab>
		<tab>
			<text>Local users</text>
			<url>/pkg.php?xml=squid_users.xml</url>
		</tab>
	</tabs>
	<fields>
		<field>
			<fieldname>max_download_size</fieldname>
			<fielddescr>Maximum download size</fielddescr>
			<description>Limit the maximum total download size to the size specified here (in kilobytes). Set to 0 to disable.</description>
			<default_value>0</default_value>
			<required/>
			<type>input</type>
		</field>
		<field>
			<fieldname>max_upload_size</fieldname>
			<fielddescr>Maximum upload size</fielddescr>
			<description>Limit the maximum total upload size to the size specified here (in kilobytes). Set to 0 to disable.</description>
			<default_value>0</default_value>
			<required/>
			<type>input</type>
		</field>
		<field>
			<fieldname>overall_throttling</fieldname>
			<fielddescr>Overall bandwidth throttling</fielddescr>
			<description>This value specifies (in kilobytes per second) the bandwidth throttle for downloads. Users will gradually have their download speed increased according to this value. Set to 0 to disable bandwidth throttling.</description>
			<default_value>0</default_value>
			<required/>
			<type>input</type>
		</field>
		<field>
			<fieldname>perhost_throttling</fieldname>
			<fielddescr>Per-host throttling</fielddescr>
			<description>This value specifies the download throttling per host. Set to 0 to disable this.</description>
			<default_value>0</default_value>
			<required/>
			<type>input</type>
		</field>
		<field>
			<fieldname>throttle_specific</fieldname>
			<fielddescr>Throttle only specific extensions</fielddescr>
			<description>Leave this checked to be able to choose the extensions that throttling will be applied to. Otherwise, all files will be throttled.</description>
			<default_value>on</default_value>
			<type>checkbox</type>
			<enablefields>throttle_binaries,throttle_cdimages,throttle_multimedia,throttle_others</enablefields>
		</field>
		<field>
			<fieldname>throttle_binaries</fieldname>
			<fielddescr>Throttle binary files</fielddescr>
			<description>Check this to apply bandwidth throttle to binary files. This includes compressed archives and executables.</description>
			<type>checkbox</type>
		</field>
		<field>
			<fieldname>throttle_cdimages</fieldname>
			<fielddescr>Throttle CD images</fielddescr>
			<description>Check this to apply bandwidth throttle to CD image files.</description>
			<type>checkbox</type>
		</field>
		<field>
			<fieldname>throttle_multimedia</fieldname>
			<fielddescr>Throttle multimedia files</fielddescr>
			<description>Check this to apply bandwidth throttle to multimedia files, such as movies or songs.</description>
			<type>checkbox</type>
		</field>
		<field>
			<fieldname>throttle_others</fieldname>
			<fielddescr>Throttle other extensions</fielddescr>
			<description>Comma-separated list of extensions to apply bandwidth throttle to.</description>
			<type>input</type>
			<size>60</size>
		</field>
	</fields>
	<custom_php_validation_command>
		squid_validate_traffic($_POST, &amp;$input_errors);
	</custom_php_validation_command>
	<custom_php_resync_config_command>
		squid_resync();
	</custom_php_resync_config_command>
</packagegui>
