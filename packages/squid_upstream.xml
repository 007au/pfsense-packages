<?xml version="1.0" encoding="utf-8"?>
<packagegui>
	<include_file>squid.inc</include_file>
	<name>squidupstream</name>
	<title>Proxy server: Upstream proxy settings</title>		
	<tabs>
		<tab>
			<text>General settings</text>
			<url>/pkg_edit.php?xml=squid.xml&amp;id=0</url>
		</tab>
		<tab>
			<text>Upstream proxy</text>
			<url>/pkg_edit.php?xml=squid_upstream.xml&amp;id=0</url>
			<active/>
		</tab>
		<tab>
			<text>Cache management</text>
			<url>/pkg_edit.php?xml=squid_cache.xml&amp;id=0</url>
		</tab>
		<tab>
			<text>Access control</text>
			<url>/pkg_edit.php?xml=squid_nac.xml&amp;id=0</url>
		</tab>
		<tab>
			<text>Traffic management</text>
			<url>/pkg_edit.php?xml=squid_traffic.xml&amp;id=0</url>
		</tab>
		<tab>
			<text>Auth settings</text>
			<url>/pkg_edit.php?xml=squid_auth.xml&amp;id=0</url>
		</tab>
		<tab>
			<text>Local users</text>
			<url>/pkg.php?xml=squid_users.in</url>
		</tab>
	</tabs>
	<fields>
		<field>
			<fielddescr>Enable forwarding</fielddescr>
			<fieldname>proxy_forwarding</fieldname>
			<description>This option enables the proxy server to forward requests to an upstream server.</description>
			<required/>
			<type>checkbox</type>
			<enablefields>proxy_addr,proxy_port,icp_port,username,password</enablefields>
		</field>
		<field>
			<fielddescr>Hostname</fielddescr>
			<fieldname>proxy_addr</fieldname>
			<description>Enter here the IP address or host name of the upstream proxy.</description>
			<type>input</type>
		</field>
		<field>
			<fielddescr>TCP port</fielddescr>
			<fieldname>proxy_port</fieldname>
			<description>Enter the port to use to connect to the upstream proxy.</description>
			<default_value>3128</default_value>
			<type>input</type>
			<size>5</size>
		</field>
		<field>
			<fielddescr>ICP port</fielddescr>
			<fieldname>icp_port</fieldname>
			<description>Enter the port to connect to the upstream proxy for the ICP protocol. Use port number 7 to disable ICP communication between the proxies.</description>
			<default_value>7</default_value>
			<type>input</type>
			<size>5</size>
		</field>
		<field>
			<fielddescr>Username</fielddescr>
			<fieldname>username</fieldname>
			<description>If the upstream proxy requires a username, specify it here.</description>
			<type>input</type>
		</field>
		<field>
			<fielddescr>Password</fielddescr>
			<fieldname>password</fieldname>
			<description>If the upstream proxy requires a password, specify it here.</description>
			<type>password</type>
		</field>
	</fields>
	<custom_php_validation_command>
		squid_validate_upstream($_POST, &amp;$input_errors);
	</custom_php_validation_command>
	<custom_php_resync_config_command>
		squid_resync();
	</custom_php_resync_config_command>
</packagegui>
