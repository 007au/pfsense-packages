<?xml version="1.0" encoding="utf-8" ?>
<packagegui>
	<name>tinydnsdomains</name>
	<configpath>installedpackages->package->tinydnsdomains</configpath>
	<include_file>/usr/local/pkg/tinydns.inc</include_file>
	<title>TinyDNS: Domains</title>
	<tabs>
		<tab>
			<text>Settings</text>
			<url>/pkg_edit.php?xml=tinydns.xml&amp;id=0</url>
		</tab>
		<tab>
			<text>Registered Domains</text>
			<url>/tinydns_dhcp_filter.php</url>
		</tab>
		<tab>
			<text>Add Domains</text>
			<url>/tinydns_filter.php</url>
			<active/>
		</tab>
		<tab>
			<text>Status</text>
			<url>/tinydns_status.php</url>
		</tab>
		<tab>
			<text>Logs</text>
			<url>/tinydns_view_logs.php</url>
		</tab>
		<tab>
			<text>Sync</text>
			<url>/pkg_edit.php?xml=tinydns_sync.xml&amp;id=0</url>
		</tab>		
	</tabs>
	<adddeleteeditpagefields>
		<columnitem>
			<fielddescr>Fully Qualified Domain Name (Hostname)</fielddescr>
			<fieldname>hostname</fieldname>
		</columnitem>
		<columnitem>
			<fielddescr>Record type</fielddescr>
			<fieldname>recordtype</fieldname>
		</columnitem>
		<columnitem>
			<fielddescr>rDNS</fielddescr>
			<fieldname>rdns</fieldname>
		</columnitem>
		<columnitem>
			<fielddescr>IP Address</fielddescr>
			<fieldname>ipaddress</fieldname>
		</columnitem>
	</adddeleteeditpagefields>
	<fields>
		<field>
			<fieldname>hostname</fieldname>
			<fielddescr>Hostname or FQDN www.exampledomain.com</fielddescr>
			<description>The DNS server will supply Records for the Fully Qualified Domain Name that is entered</description>
			<required/>
			<type>input</type>
			<size>35</size>
		</field>
		<field>
			<fielddescr>Record type</fielddescr>
			<fieldname>recordtype</fieldname>
			<description>DNS Record types. A, PTR, MX, NS, SOA, TXT, CNAME</description>
			<required/>
			<type>select</type>
			<size>1</size>
			<options>
			    <option><value></value><name></name></option>
			    <option><value>A</value><name>A</name></option>
			    <option><value>MX</value><name>MX</name></option>
			    <option><value>NS</value><name>NS</name></option>
			    <option><value>SOA</value><name>SOA</name></option>
			    <option><value>PTR</value><name>PTR</name></option>
			    <option><value>CNAME</value><name>CNAME</name></option>
			    <option><value>TXT</value><name>TXT</name></option>
			</options>
		</field>
		<field>
		 	<fielddescr>Automatic PTR entry</fielddescr>
			<fieldname>rdns</fieldname>
			<description>Create a reverse DNS (PTR) entry for this A Record?</description>
			<type>checkbox</type>
		</field>		
		<field>
			<fieldname>ipaddress</fieldname>
			<fielddescr> FQDN or IP Address</fielddescr>
			<description>IP Address for A Records. FQDN or Hostname for SOA, PTR, CNAME Records.  For NS Records an IP:FQDN</description>
			<required/>
			<type>input</type>
			<size>40</size>
		</field>
		<field>
			<fieldname>ttl</fieldname>
			<fielddescr>DNS record time to live</fielddescr>
			<type>input</type>
			<size>35</size>
		</field>
		<field>
			<fieldname>monitorip</fieldname>
			<fielddescr>IP to ping to ensure service is up</fielddescr>
			<type>input</type>
			<size>35</size>
		</field>
		<field>
			<fieldname>threshhold</fieldname>
			<fielddescr>Time in minutes before DNS switches to backup host</fielddescr>
			<type>input</type>
			<size>35</size>
		</field>
		<field>
		    <type>rowhelper</type>
		    <rowhelper>
				<rowhelperfield>
				    <fielddescr>Failover IP</fielddescr>
				    <fieldname>failoverip</fieldname>
				    <description>Failover IP when host is not responding to ICMP/PING traffic</description>
				    <type>input</type>
				    <size>25</size>
				</rowhelperfield>
				<rowhelperfield>
				    <fielddescr>Load balance</fielddescr>
				    <fieldname>loadbalance</fieldname>
				    <description>Adds this member to active group when host is alive.</description>
				    <type>checkbox</type>
				</rowhelperfield>
				<rowhelperfield>
				    <fielddescr>Ping threshold</fielddescr>
				    <fieldname>pingthreshold</fieldname>
				    <description>When the MS time is surpassed, item will failover to next host</description>
				    <type>input</type>
				    <size>7</size>
				</rowhelperfield>
				<rowhelperfield>
				    <fielddescr>Wan ping threshold</fielddescr>
				    <fieldname>wanpingthreshold</fieldname>
				    <description>When the WAN MS ping time is surpassed, item will failover to next host</description>
				    <type>input</type>
				    <size>7</size>
				</rowhelperfield>
				<rowhelperfield>
				    <fielddescr>IP to ping to ensure service is up</fielddescr>
				    <fieldname>monitorip</fieldname>
				    <description>When the WAN MS ping time is surpassed, item will failover to next host</description>
				    <type>input</type>
				    <size>15</size>
				</rowhelperfield>
		    </rowhelper>
		</field>
	</fields>
	<custom_php_resync_config_command>
		tinydns_create_zone_file();
		tinydns_setup_ping_items();
	</custom_php_resync_config_command>
</packagegui>
