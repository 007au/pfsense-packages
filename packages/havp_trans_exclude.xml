<?xml version="1.0" encoding="utf-8" ?>
<packagegui>
	<name>havp_trans_exclude</name>
	<version>0.1.0</version>
	<title>HAVP: Exclude from Transparent Proxy</title>
	<include_file>/usr/local/pkg/havp.inc</include_file>

	<menu>
		<name>Transparency Exclude</name>
		<tooltiptext></tooltiptext>
		<section>Services</section>
		<configfile>havp.xml</configfile>
	</menu>
	<tabs>
		<tab>
			<text>Settings</text>
			<url>/pkg_edit.php?xml=havp.xml&amp;act=edit&amp;id=0</url>
		</tab>
		<tab>
			<text>Whitelist</text>
			<url>/pkg.php?xml=havp_whitelist.xml</url>
		</tab>
		<tab>
			<text>Blacklist</text>
			<url>/pkg.php?xml=havp_blacklist.xml</url>
		</tab>
		<tab>
			<text>Exclude from Transparent Proxy</text>
			<url>/pkg.php?xml=havp_trans_exclude.xml</url>
			<active/>
		</tab>
	</tabs>

    	<additional_files_needed>
	    <prefix>/usr/local/pkg/</prefix>
	    <chmod>0755</chmod>
	    <item>http://agni.linuxense.com/packages/config/havp.inc</item>
	</additional_files_needed>

	<configpath>['installedpackages']['havptransexclude']['config']</configpath>

	<adddeleteeditpagefields>
		<columnitem>
			<fielddescr>Exempted IP</fielddescr>
			<fieldname>ip</fieldname>
		</columnitem>
		<columnitem>
			<fielddescr>Description</fielddescr>
			<fieldname>description</fieldname>
		</columnitem>
	</adddeleteeditpagefields>

	<fields>
		<field>
			<fielddescr>Exempted IP</fielddescr>
			<fieldname>ip</fieldname>
			<description>Enter the IP to exempt from transparent proxy</description>
			<type>input</type>
		</field>
		<field>
			<fielddescr>Description</fielddescr>
			<fieldname>description</fieldname>
			<description>Enter the description for this item</description>
			<type>input</type>
		</field>
	</fields>

	<custom_php_command_before_form>add_trans_table();</custom_php_command_before_form>
	<custom_delete_php_command>add_trans_table();</custom_delete_php_command>	
	<custom_php_resync_config_command>add_trans_table();</custom_php_resync_config_command>
</packagegui>
