<?xml version="1.0" encoding="utf-8" ?>
<packagegui>
  <name>dspam</name>
  <version>1.0</version>
  <title>Services: DSPAM: Main</title>
  <include_file>/usr/local/pkg/dspam.inc</include_file>
  <!-- Menu is where this packages menu will appear -->
  <menu>
    <name>dspam</name>
    <section>Services</section>
    <configfile>dspam.xml</configfile>
    <url>/dspam-perf.php</url>
  </menu>
  <menu>
    <name>DSPAM Legacy WebGUI</name>
    <tooltiptext>Original Perl-based GUI</tooltiptext>
    <section>Services</section>
    <url>/vhosts/dspam/dspam.cgi</url>
  </menu>
  <service>
    <name>dspam</name>
    <rcfile>/usr/local/etc/rc.d/dspam.sh</rcfile>
  </service>
  <tabs>
    <tab>
      <text>Overview</text>
      <url>/dspam.php</url>
      <active/>
    </tab>
    <tab>
      <text>Performance</text>
      <url>/dspam-perf.php</url>
    </tab>
    <tab>
      <text>Preferences</text>
      <url>/dspam-prefs.php</url>
    </tab>
    <tab>
      <text>Alerts</text>
      <url>/pkg.php?xml=dspam_alerts.xml</url>
    </tab>
    <tab>
      <text>Quarantine</text>
      <url>/dspam-quarantine.php</url>
    </tab>
    <tab>
      <text>Analysis</text>
      <url>/dspam-analysis.php</url>
    </tab>
    <tab>
      <text>History</text>
      <url>/dspam-history.php</url>
    </tab>
  </tabs>
  <!--
    configpath gets expanded out automatically and config items
    will be stored in that location
  -->
  <configpath>['installedpackages']['dspam']['config']</configpath>
  <additional_files_needed>
    <prefix>/usr/local/www/</prefix>
    <chmod>0755</chmod>
    <item>http://www.abyssworld.de/packages/config/dspam-perf.php</item>
  </additional_files_needed>
  <additional_files_needed>
    <prefix>/usr/local/www/</prefix>
    <chmod>0755</chmod>
    <item>http://www.abyssworld.de/packages/config/dspam-admin.php</item>
  </additional_files_needed>
  <additional_files_needed>
    <prefix>/usr/local/www/</prefix>
    <chmod>0755</chmod>
    <item>http://www.abyssworld.de/packages/config/dspam-admin-prefs.php</item>
  </additional_files_needed>
  <additional_files_needed>
    <prefix>/usr/local/www/</prefix>
    <chmod>0755</chmod>
    <item>http://www.abyssworld.de/packages/config/dspam-admin-stats.php</item>
  </additional_files_needed>
  <additional_files_needed>
    <prefix>/usr/local/pkg/</prefix>
    <chmod>0755</chmod>
    <item>http://www.abyssworld.de/packages/config/dspam_settings.xml</item>
  </additional_files_needed>
  <additional_files_needed>
    <prefix>/usr/local/www/</prefix>
    <chmod>0755</chmod>
    <item>http://www.abyssworld.de/packages/config/dspam-settings.php</item>
  </additional_files_needed>
  <additional_files_needed>
    <prefix>/usr/local/www/</prefix>
    <chmod>0755</chmod>
    <item>http://www.abyssworld.de/packages/config/verdana.ttf</item>
  </additional_files_needed>
  <additional_files_needed>
    <prefix>/usr/local/www/</prefix>
    <chmod>0755</chmod>
    <item>http://www.abyssworld.de/packages/config/dspam-prefs.php</item>
  </additional_files_needed>
  <additional_files_needed>
    <prefix>/usr/local/pkg/</prefix>
    <chmod>0755</chmod>
    <item>http://www.abyssworld.de/packages/config/dspam_alerts.xml</item>
  </additional_files_needed>
  <additional_files_needed>
    <prefix>/usr/local/www/</prefix>
    <chmod>0755</chmod>
    <item>http://www.abyssworld.de/packages/config/dspam-quarantine.php</item>
  </additional_files_needed>
  <additional_files_needed>
    <prefix>/usr/local/www/</prefix>
    <chmod>0755</chmod>
    <item>http://www.abyssworld.de/packages/config/dspam-analysis.php</item>
  </additional_files_needed>
  <additional_files_needed>
    <prefix>/usr/local/www/</prefix>
    <chmod>0755</chmod>
    <item>http://www.abyssworld.de/packages/config/dspam-history.php</item>
  </additional_files_needed>
  <additional_files_needed>
    <prefix>/usr/local/pkg/</prefix>
    <chmod>0755</chmod>
    <item>http://www.abyssworld.de/packages/config/dspam.inc</item>
  </additional_files_needed>
  <additional_files_needed>
    <prefix>/usr/local/www/wizards/</prefix>
    <chmod>0755</chmod>
    <item>http://www.abyssworld.de/packages/config/dspam_wizard.xml</item>
  </additional_files_needed>
  <!--
    fields gets invoked when the user adds or edits a item. The following items
    will be parsed and rendered for the user as a gui with input, and selectboxes.
  -->
  <!--
    Arbitrary PHP Code, that gets executed if a certain event gets triggered.
  -->
  <custom_php_resync_config_command>
    sync_package_dspam();
  </custom_php_resync_config_command>
  <custom_php_install_command>
      custom_php_install_command();
  </custom_php_install_command>
  <custom_php_deinstall_command>
      custom_php_deinstall_command();
  </custom_php_deinstall_command>
</packagegui>
